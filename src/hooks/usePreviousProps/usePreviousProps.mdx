--- 
name: usePreviousProps
route: /vc-ui/usePreviousProps
menu: '业务组件'
--- 

import { Playground, Props } from 'docz'
import { useState, useRef } from 'react'
import usePreviousProps  from './index';
import Child from './Child'

# usePreviousProps

## Basic usage

  保存的上个effect生命周期里的props

``` js
import { usePreviousProps } from 'vc-ui'

const Child = ({ value }) => {
  const previousProps = usePreviousProps(props)
  if (previousProps.value !== props.value) {
    console.log('changed')
  } else {
    console.log('not changed')
  }
  return (
    <div>
      <p>previous: {JSON.stringify(previousProps)}</p>
      <p>current: {JSON.stringify(props)}</p>
    </div>
  )
}
```

<Playground>
  {
    () => {
      const [text, setText] = useState('')
      const [value, setValue] = useState('')
      return (
        <div>
          <input onInput={e => setText(e.target.value)} />
          <button type='button' onClick={() => setValue(text)}>confirm</button>
          <Child value={value}/>
        </div>
      )
    }
  }
</Playground>


